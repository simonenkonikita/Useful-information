## Валидация с JavaScript объект ValidityState

### Атрибут novalidate

Сперва сообщите браузеру о том, что стандартные сообщения об ошибке не нужны. Для этого укажите атрибут novalidate у формы:

```javascript
<form class="form" novalidate>
  <input class="form__input" type="url" placeholder="Адрес" required>
  <button class="form__submit">Войти</button>
</form>
```

**✅Теперь стандартных браузерных ошибок не будет. Осталось получить доступ к данным валидации в JS**.

### Объект ValidityState

В JS есть ValidityState — встроенный объект для сверки данных. \
Он присутствует в каждом поле ввода и тесно связан с его HTML-атрибутами. Само свойство называется **validity**.

Свойство **validity** — объект из 11 свойств с булевыми значениями.

Основные свойства:

```
- valueMissing — принимает true, когда обязательное поле пустое;
- typeMismatch — принимает true, когда ввели неправильные значения данных для атрибута type. Это круто работает в связке с type="email" и type="url";
- tooLong — всегда false, потому что в современных браузерах невозможно ввести больше символов, чем указано в maxlength;
- tooShort — принимает true, когда количество символов не превышает значение атрибута minlength.
```

Для одних свойств корректное значение — это true, для других — false.

### Свойство valid в объекте ValidityState

В объекте validity есть свойство valid. В нём находится итоговое решение проверки данных. Если во всех других 10 свойствах значения корректны, поле ввода валидно и свойство valid приобретает значение true.

### «Живая» валидация

Когда в поле вводят данные, значения свойств объекта validity меняются. Для этого не нужно отправлять форму.

Как только поле выполнит все условия атрибутов, свойство valid приобретёт значение true.

«Живая» проверка данных происходит одновременно с тем, как пользователь вводит в поле данные. Для этой проверки есть слушатель событий input. Он срабатывает при любом изменении данных в поле, на котором висит обработчик:

1. Вынесем все необходимые элементы формы в константы

```javascript
const formElement = document.querySelector(".form");
const formInput = formElement.querySelector(".form__input");
```

2. Слушатель события input
   Выведем в консоль значение свойства validity.valid поля ввода, на котором слушаем событие input

```javascript
formInput.addEventListener("input", function (evt) {
  console.log(evt.target.validity.valid);
});
```

Данные проверяются на корректность, пока пользователь их вводит.

Так можно получать данные о валидации в JS. Теперь на их основе нужно показать пользователю, какие ошибки допущены.

