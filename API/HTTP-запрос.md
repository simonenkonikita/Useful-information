## Методы HTTP

Метод HTTP-запроса определяет, что нужно сделать с запрашиваемым ресурсом. Разным целям служат разные методы: одни нужны для получения данных, другие — для отправки, третьи — для удаления.

### Метод GET

**GET** — самый распространённый метод. Данные обычно получают именно этим методом. Если метод не прописать явно, fetch будет отправлять запросы методом GET.

```javascript
fetch("https://example.com")
  .then((res) => {
    return res.json();
  })
  .then((data) => {
    console.log(data.user.name); // если мы попали в этот then, data — это объект
  })
  .catch((err) => {
    console.log("Ошибка. Запрос не выполнен: ", err);
  });
```

### Метод POST

**POST** — второй по распространённости метод. Его используют для отправки данных на сервер. Чтобы послать запрос методом POST, нужно указать этот метод в объекте опций — вторым аргументом метода fetch.

❗Поскольку метод POST отправляет данные, эти данные нужно как-то хранить в запросе. Для этого их нужно перевести в формат JSON и записать в свойство body объекта опций.

```javascript
fetch("https://example.com", {
  method: "POST",
  body: JSON.stringify({
    name: "Иван",
    age: 30,
  }),
});
```

### MIME Type

Данные можно отправлять не только в формате JSON — есть и другие форматы.Чтобы сервер мог обработать данные, он должен понимать, что за данные к нему пришли. Для этого в вебе есть своя система указания типов — MIME Types. По этой системе типы указывают строкой, которая состоит из типа и подтипа документа, разделённых слешем: **type/subtype**

### Самые распространённые MIME-типы:

```
- text/plain - это просто текст,
- text/html
- text/javascript
- text/css
- image/jpeg - картинка в формате jpg,
- image/png
- audio/mpeg
- audio/ogg
- video/mp4
- application/json - для передачи данных в формате JSON;
- application/octet-stream
- application/x-www-form-urlencoded - формат, который кодирует поля формы так, чтобы их можно было отправить в URL;
- multipart/form-data - для отправки файлов на сервер. Подойдёт, если среди прочего вы отправляете через форму картинку.
```

Для отправки данных формы обычно используют один из трёх типов:

```
- json — для передачи данных в формате JSON;
- application/x-www-form-urlencoded — формат, который кодирует поля формы так, чтобы их можно было отправить в URL;
- multipart/form-data — для отправки файлов на сервер. Подойдёт, если среди прочего вы отправляете через форму картинку.
```

### Тело и заголовки запроса

MIME-тип посылают в специальном заголовке Content-Type. Заголовки передаются в свойстве headers второго аргумента метода fetch. Чтобы послать в теле запроса данные в JSON, нужно передать в заголовках тип application/json.

Некоторые заголовки, например Content-Length (размер пересылаемых данных), браузер установит запросу самостоятельно.

Заголовки не чувствительны к регистру.

## Как передать данные на сервер

Отправлять данные на сервер можно в теле запроса — свойстве body. Но это не единственный способ. Дело в том, что обработка нашего запроса — забота сервера. Поэтому только реализация сервера определяет, в каком виде данные должны поступать.

### В параметрах запроса

Данные можно отправлять в параметрах запроса. \
Их перечисляют прямо в URL после вопросительного знака:

```javascript
fetch("https://example.com/images/random?type=portrait", {
  method: "GET",
});
```

❗Имя параметра и его значение указывают друг за другом через знак равенства: name=value. Такие пары имя атрибута=значение разделяют амперсандами &:

```javascript
fetch("https://example.com/images/random?type=portrait&name=DorianGrey", {
  method: "GET",
});
```

### Прямо в URL

Ещё один способ передать данные — указать их в URL. Например, если картинке присвоен идентификатор, можно запросить его в URL и получить картинку:

```javascript
fetch("https://example.com/images/ewfh23d832jnf2903", {
  // ewfh23d832jnf2903 — идентификатор картинки
  method: "GET",
});
```

### Другие методы запросов

**PUT** предназначен для полного обновления указанного ресурса. Например, если в каталоге книг вы решили заменить одну книгу другой;

**PATCH** — для частичного обновления ресурса. Например, при обновлении профиля пользователя;

**DELETE** — для удаления ресурса с сервера.

## Резюме

Основные HTTP-методы — это GET, POST, PUT, PATCH и DELETE.
Есть три основных способа передавать данные на сервер:
в теле запроса;
в параметрах запроса;
в URL.

❗Какой из этих способов выбрать, зависит от реализации сервера. Поэтому если не знаете — идите к бэкендеру, который программировал сервер для вашего сайта. А если отправляете запросы в API — читайте его документацию.
