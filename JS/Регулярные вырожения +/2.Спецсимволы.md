## Спецсимволы и их обратные классы

**Спецсимволы** — такие конструкции из символов в регулярных выражениях, которые позволяют искать не один символ, а сразу группу.

Многие спецсимволы — это буквы.

## Спецсимволы

### Спецсимвол точка ' . '

Заменяет любой символ, но она не найдёт перенос строки.

```javascript
const regex = /iPhone .s/gi; // Поставим точку вместо номера модели
```

В шаблоне регулярного выражения она заменяет любой символ. Неважно, какая цифра стоит перед s, поэтому на её место в шаблоне мы ставим точку.

В шаблоне может быть сколько угодно точек.

```javascript
const str = `
  Не помню, как именно его зовут:
  то ли Сортини, то ли Сордини.
  Быть может, и Сардини, через «а».
`;

const regex = /С.р.ини/g; // Точки в регулярном выражении заменяют любой символ.

str.match(regex); // [ "Сортини", "Сордини", "Сардини" ]
```

### Спецсимвол - экранирование '\\'

Многие спецсимволы — это буквы. \
И чтобы движок понимал, что это не простая буква, а особый символ, в регулярном выражении такой символ нужно экранировать — то есть поставить перед ним обратный слеш \w.

Если экранировать спецсимвол, который должен идти без слеша, движок будет его воспринимать как обычный символ. Например, если поставить обратный слеш перед точкой, движок будет искать только точки, а не любые символы:

```javascript
const str1 = "yandex.ru/maps/";
const regex1 = /\.ru/; // экранировали точку
const regex2 = /\/maps/; // экранировали слеш перед словом maps

str1.match(regex1); // [ ".ru" ]
str1.match(regex2); // [ "/maps" ]
```

Чтобы найти обратный слеш, его тоже нужно экранировать

```javascript
const str2 = "C:\\";
const regex3 = /\\/; // экранировали слеш

str2.match(regex3); // [ "\" ]
```

## Начало и конец строки

### Спецсимвол '^'

'^' - обозначающий начало строки. Говорит шаблону, искать совпадение только с началом текста

```javascript
const regex = /^\d+/g;
const newReg = /\d+/g;
const str = "2001 год: Космическая одиссея, вышел в 1968 году";

str.match(regex); // [ "2001" ];
str.match(newReg); // [ "2001", "1968" ];
```

### Спецсимвол $

$ - Символ конца строки. Говорит шаблону, искать совпадение с концом текста

```javascript
const regex = /\d+$/;
const str = "https://praktikum.yandex.ru/trainer/frontend-developer/lesson/45";

str.match(regex); // ( ["45"] )
```

## Многострочные тексты

### Спецсимвол \n

\n - позволяет написать многострочный текст, перенос можно поставить комбинацией символов \n или пользоваться обычными переносами в шаблонных строках:

```javascript
const str1 = `Председатель Совнаркома, Наркомпроса, Мининдела!
Эта местность мне знакома, как окраина Китая!`;
const str2 = "Это утро, радость эта,\nЭта мощь и дня и света,";
```

❗движк считает началом строки только то, что стоит после открывающей кавычки, а концом — до закрывающей:

```javascript
const str = `Председатель Совнаркома, Наркомпроса, Мининдела!
Эта местность мне знакома, как окраина Китая!`;
const regex = /[А-Я]\*!$/gi; // найдём последние слова каждой строки

str.match(regex); // ["Китая!"] — получилось только последнее слово всего текста
```

##

### Спецсимвол \m

\m - Позволяет изменить поведение движка, движок будет считать каждый перенос концом одной строки и началом другой

```javascript
const str = `Эта личность мне знакома! Знак допроса вместо тела.
Многоточие шинели. Вместо мозга — запятая.`;
const regex = /[А-Я]\*\.$/gim;

str.match(regex); // [ "тела.", "запятая." ]
```

❗Это работает и с шаблонными строками, и с обычными: в них движок будет считать началом и концом строки комбинации \n!

- Если нужно искать совпадение с абсолютно любым символом, пользуйтесь набором [\s\S]:

- Начало строки обозначают шляпкой ^, а конец — знаком доллара $. \

- По умолчанию весь текст — одна строка, у которой есть один конец и одно начало.

- Такое поведение движка можно изменить, поставив флаг m. Флаг m говорит движку, чтобы тот воспринимал каждый перенос как конец одной строки и начало другой.

```javascript
const regex = /._$/;
const regexMultiline = /._$/m;
const str =
  "I got, I got, I got, I got\n" +
  "Loyalty, got royalty\n" +
  "Inside my DNA\n" +
  "Coconut quarter piece, got war and peace\n" +
  "Inside my DNA\n" +
  "I got power, poison, pain and joy\n" +
  "Inside my DNA\n" +
  "I got hustle, though, ambition, flow\n" +
  "Inside my DNA";

str.match(regexMultiline); // [ "I got, I got, I got, I got" ]
```

Флаг m включён, поэтому движок отсчитал сколько мог любых символов от конца первой строки .

```javascript
str.match(regex); // [ "Inside my DNA" ]
```

Тут флаг m выключен, поэтому движок отсчитывает символы от конца строки. Точка в шаблоне означает любой символ, кроме переноса. Поэтому мы нашли только последнюю строчку.
